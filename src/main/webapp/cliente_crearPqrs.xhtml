<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./WEB-INF/templates/ClienteTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"     
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:b="http://bootsfaces.net/ui">    
    <ui:define name="content">

        <section styleclass="container">
            <div styleClass="row justify-content-md-start">
                <div styleClass="col col-lg-12">
                    <h1>PQRS</h1>
                    <h3>Petición</h3>
                    <p styleClass="lead">Es el derecho fundamental que tiene toda persona a presentar solicitudes respetuosas a las autoridades por motivos de interés general o particular y a obtener su pronta resolución</p>
                    <h3>Queja</h3>
                    <p styleClass="lead">Es la manifestación de protesta, censura, descontento, inconformidad o insatisfacción que formula una persona a causa del incumplimiento de una norma legal vigente.</p>
                    <h3>styleClass</h3>
                    <p styleClass="lead">Es el derecho que tiene toda persona de exigir, reivindicar o demandar una solución o atención satisfactoria, ya sea por motivo general o particular, referente a la prestación indebida de un servicio o a la falta de atención de una solicitud.</p>
                    <h3>Sugerencia</h3>
                    <p styleClass="lead">Es la manifestación de ideas o propuestas tendientes al mejoramiento de un servicio o la gestión de la misma entidad.</p>
                    <div styleClass="text-center">
                        <button type="button" styleClass="btn btn-primary" data-toggle="modal" data-target="#PQRSmodal">Nuevo PQRS</button>
                    </div>
                </div>                
            </div>
        </section>
        <!-- modal creacion -->    
        <div styleClass="modal fade" id="PQRSmodal" tabindex="-1" role="dialog" aria-labelledby="PQRSmodal" aria-hidden="true">
            <div styleClass="modal-dialog">
                <div styleClass="modal-content">
                    <div styleClass="modal-header">
                        <h5 styleClass="modal-title" id="lbl_modal_crear">Nuevo PQRS</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <h:form enctype="multipart/form-data" id="formId">
                        <div styleClass="modal-body">                        
                            <div styleClass="form-group">
                                <p:outputLabel value="Tipo: " />
                                <h:selectOneMenu id="ddl_tipoPqrs" value="#{pqrsController.tipoPqrs.idTipoPQRS}">
                                    <f:selectItems value="#{tipopqrsController.pqrsListItems}" />                                    
                                </h:selectOneMenu>                                    
                            </div>
                            <div styleClass="form-group">
                                <p:outputLabel  for="txt_asunto" value="Asunto:" styleClass="col-form-label"/>
                                <p:inputText value="#{pqrsController.pqrs.asunto}" styleClass="form-control" id="txt_asunto" required="true">
                                    <f:validateLength minimum="10" maximum="45"/>
                                </p:inputText>                                                                    
                            </div>
                            <div styleclass="form-group">
                                <p:outputLabel for="txt_detalles" styleClass="col-form-label" value="Detalles:"/>
                                <p:inputTextarea value="#{pqrsController.pqrs.detalles}" styleClass="form-control" id="txt_detalles" maxlength="300" required="true">
                                    <f:validateLength minimum="30" maximum="300"/>
                                </p:inputTextarea>
                            </div>
                            <div styleclass="form-group">
                                <p:outputLabel styleClass="col-form-label" value="Anexo:"/>                                
                                <div styleclass="custom-file">
                                    <p:outputLabel class="custom-file-label" for="flp_anexos"/>
                                    <p:fileUpload value="#{pqrsController.file}" mode="simple"   allowTypes="image/png, image/jpeg,application/pdf,application/vnd.ms-excel,text/csv,application/msword" id="flp_anexos" />
                                </div>
                            </div>
                        </div>
                        <div styleClass="modal-footer">
                            <h:message for="btn_create"></h:message>
                            <p:commandButton ajax="true" id="btn_create" styleClass="btn btn-primary" value="Crear"    actionListener="#{pqrsController.validarPqrs}" />
                        </div>
                    </h:form>                        
                </div>
            </div>
        </div>       
    </ui:define>
</ui:composition>