<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./WEB-INF/templates/ClienteTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"     
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:b="http://bootsfaces.net/ui">
    <f:view locale="#{controllerTranslation.local}" />
    <ui:define name="content">

        <section class="container">
            <div class="row justify-content-md-start">
                <div class="col col-lg-12">
                    <h1>#{msgs['clientePqrs.h1']}</h1>
                    <h3>#{msgs['clientePqrs.h3Peticion']}</h3>
                    <p class="lead">#{msgs['clientePqrs.PaPeticion']}</p>
                    <h3>#{msgs['clientePqrs.h3Queja']}</h3>
                    <p class="lead">#{msgs['clientePqrs.PaQueja']}</p>
                    <h3>#{msgs['clientePqrs.h3Reclamo']}</h3>
                    <p class="lead">#{msgs['clientePqrs.PaReclamo']}</p>
                    <h3>#{msgs['clientePqrs.H3Sugerencia']}</h3>
                    <p class="lead">#{msgs['clientePqrs.PaSugerencia']}</p>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#PQRSmodal">#{msgs['clientePqrs.BtnNuevoPqrs']}</button>
                    </div>
                </div>                
            </div>
        </section>
        <!-- modal creacion -->    
        <div class="modal fade" id="PQRSmodal" tabindex="-1" role="dialog" aria-labelledby="PQRSmodal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                            <h5 class="modal-title" id="lbl_modal_crear">#{msgs['clientePqrs.FormH5']}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <h:form enctype="multipart/form-data" id="formId">
                         <p:messages showDetail="true" showSummary="false"/>
                        <div class="modal-body">                        
                            <div class="form-group">
                                <p:outputLabel value="#{msgs['clientePqrs.FormLabelTipo']}" />
                                <h:selectOneMenu class="form-control" id="ddl_tipoPqrs" value="#{pqrsController.tipoPqrs.idTipoPQRS}">
                                    <f:selectItems value="#{tipopqrsController.pqrsListItems}" />                                    
                                </h:selectOneMenu>                                    
                            </div>
                            <div class="form-group">
                                <p:outputLabel  for="txt_asunto" value="#{msgs['clientePqrs.FormLabelAsu']}" class="col-form-label"/>
                                <p:inputText value="#{pqrsController.pqrs.asunto}" class="form-control" id="txt_asunto" required="true">
                                    <f:validateLength minimum="10" maximum="45"/>
                                </p:inputText>                                                                    
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="txt_detalles" class="col-form-label" value="#{msgs['clientePqrs.FormLabelDeta']}"/>
                                <p:inputTextarea value="#{pqrsController.pqrs.detalles}" class="form-control" id="txt_detalles" maxlength="300" required="true">
                                    <f:validateLength minimum="30" maximum="300"/>
                                </p:inputTextarea>
                            </div>
                            <div class="form-group">
                                <p:outputLabel class="col-form-label" value="#{msgs['clientePqrs.FormLabelAnex']}"/>                                
                                <div class="custom-file">
                                    <p:outputLabel class="custom-file-label" for="flp_anexos"/>
                                    <p:fileUpload value="#{pqrsController.file}" mode="simple"  accept="image/png, image/jpeg,application/pdf,application/vnd.ms-excel,text/csv,application/msword" id="flp_anexos" />
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <h:message for="btn_create"></h:message>
                            <p:commandButton ajax="true" id="btn_create" class="btn btn-primary" value="#{msgs['clientePqrs.FormBtn']}"    actionListener="#{pqrsController.validarPqrs}" />
                        </div>
                    </h:form>                        
                </div>
            </div>
        </div>       
    </ui:define>
</ui:composition>